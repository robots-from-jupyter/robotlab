steps:
  - ${{ if eq(parameters.name, 'MacOSX') }}:
    - task: CondaEnvironment@1
      inputs:
        createOptions: -c defaults -c conda-forge
        createCustomEnvironment: true
        updateConda: false
        environmentName: _robots_from_jupyter
        packageSpecs: >
          conda-build>=3.18.2,<3.19
          conda-verify
          conda>=4.6,<4.7
          constructor
          geckodriver
          pillow
          python-chromedriver-binary >=74,<75
          python>=3.6,<3.7
          robotframework-seleniumlibrary>=3.3.1
          robotframework>=3.1
          six
  - ${{ if not(eq(parameters.name, 'MacOSX')) }}:
    - task: CondaEnvironment@1
      inputs:
        createOptions: -c defaults -c conda-forge
        createCustomEnvironment: true
        updateConda: false
        environmentName: _robots_from_jupyter
        packageSpecs: >
          conda-build>=3.18.2,<3.19
          conda-verify
          conda>=4.6,<4.7
          constructor
          geckodriver
          pillow
          python-chromedriver-binary ==2.40.0
          python>=3.6,<3.7
          robotframework-seleniumlibrary>=3.3.1
          robotframework>=3.1
          six
